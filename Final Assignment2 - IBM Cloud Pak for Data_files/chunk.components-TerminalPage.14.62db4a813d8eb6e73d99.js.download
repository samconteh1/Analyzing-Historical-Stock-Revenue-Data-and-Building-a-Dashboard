(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[14],{"+u8U":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n("lSNA"),i=n.n(r),a=n("17x9"),o=n.n(a),c=n("q1tI"),s=n.n(c),f=n("IbR8"),d=n("2OET");class u extends s.a.PureComponent{constructor(t){super(t),i()(this,"iframeRef",void 0);const n=!(e&&e.window);this.state={height:400,expectedIframeOrigin:Object(f.a)(t.url),renderSkeleton:n},this.iframeRef=s.a.createRef()}componentDidMount(){const e=this._onMessage.bind(this);window.addEventListener("message",e,!1),window._ConverterFrame_Listener=e}componentWillUnmount(){this._removeIFrameMessageListener()}_removeIFrameMessageListener(){"function"==typeof window._ConverterFrame_Listener&&(window.removeEventListener("message",window._ConverterFrame_Listener),window._ConverterFrame_Listener=null)}_onIframeLoaded(){if(this.iframeRef&&this.iframeRef.current&&this.iframeRef.current.contentWindow){const e=this.state.expectedIframeOrigin||window.origin;this.iframeRef.current.contentWindow.postMessage({type:"nb_converter.getHeight"},e),this.props.onLoaded("success")}else this.props.onLoaded("failed")}_onMessage(e){e.data&&"notebookUI.notebookHeight"===e.data.type&&this.setState({height:e.data.content})}render(){const e={height:this.state.height+"px",width:"100%"};return this.state.renderSkeleton?null:s.a.createElement("iframe",{ref:this.iframeRef,onLoad:()=>this._onIframeLoaded(),id:"sharedNotebook",className:this.props.className,scrolling:"no",frameBorder:"0",src:this.props.url,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms allow-popups-to-escape-sandbox allow-modals",style:e})}}u.propTypes={url:o.a.string.isRequired,onLoaded:o.a.func.isRequired,className:o.a.string};const l=Object(d.c)(u)}).call(this,n("yLpj"))},"2uFg":function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"G",(function(){return y})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return O})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return I})),n.d(t,"C",(function(){return T})),n.d(t,"l",(function(){return x})),n.d(t,"F",(function(){return S})),n.d(t,"v",(function(){return L})),n.d(t,"j",(function(){return j})),n.d(t,"u",(function(){return R})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return C})),n.d(t,"q",(function(){return M})),n.d(t,"B",(function(){return P})),n.d(t,"w",(function(){return U})),n.d(t,"x",(function(){return D})),n.d(t,"y",(function(){return H})),n.d(t,"A",(function(){return B})),n.d(t,"z",(function(){return F})),n.d(t,"k",(function(){return V})),n.d(t,"H",(function(){return G})),n.d(t,"I",(function(){return q})),n.d(t,"J",(function(){return W})),n.d(t,"n",(function(){return Y})),n.d(t,"m",(function(){return Z})),n.d(t,"K",(function(){return z})),n.d(t,"D",(function(){return J})),n.d(t,"E",(function(){return X})),n.d(t,"g",(function(){return Q})),n.d(t,"a",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"d",(function(){return re})),n.d(t,"c",(function(){return ie})),n.d(t,"r",(function(){return ae}));n("yq1k"),n("UxlC");var r=n("aYAR"),i=n("J2m7"),a=n.n(i),o=n("mwIZ"),c=n.n(o),s=n("ijCd"),f=n.n(s),d=n("JZM8"),u=n.n(d),l=n("Y3Pm"),p=n.n(l),_=n("D1y2"),v=n.n(_),m=n("C2x4");const g="default_spark",h="remote_spark",b=["conda1rt221","conda2nlp","conda2rt221","conda4r36py38","conda4rt221","do2rt221","gpu1rt221","spark30py39"];function y(e){return b.includes(e)}function k(e,t){let n=null;if(Array.isArray(e)){const r=e.filter(e=>E(e)===t);r.length>0&&(n=r[0])}return n}function O(e,t){return x(k(e,t),"")}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return c()(e,"metadata.asset_id",t)}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c()(e,"entity.environment.status",t)}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"notebook";return c()(e,"entity.environment.sub_type",t)}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c()(e,"entity.environment.display_name",t)}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return K(e)?c()(e,"entity.environment.tools_specification.supported_kernels",t):c()(L(e),"supported_kernels",t)}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return K(e)?c()(e,"entity.environment.hardware_specification.entity.hardware_specification",t):c()(e,"entity.environment.hardware_specification")}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return K(e)?c()(e,"entity.environment.software_specification.entity.software_specification",t):c()(e,"entity.environment.software_specification")}function j(e){let t="";if(!K(e))return t;const n=c()(e,"entity.environment.software_specification");return t="derived"===c()(n,"entity.software_specification.type")?c()(n,"entity.software_specification.base_software_specification.guid"):c()(n,"metadata.asset_id",""),t}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"nodes.mem.size":"mem";return c()(N(e),n,t)}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"nodes.cpu.units":"num_cpu";return c()(N(e),n,t)}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"nodes.gpu.num_gpu":"gpu.num_gpu";return c()(N(e),n,t)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"nodes.gpu.name":"gpu.model";return c()(N(e),n,t)}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"nodes.gpu.name":"gpu.subModel";return c()(N(e),n,t)}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e),r=n?"software_configuration.platform":"spark_version",i=c()(L(e),r);return n?"spark"===c()(i,"name")?c()(i,"version",t):t:i||t}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"spark.driver.cpu.units":"spark.driver.cores";return c()(N(e),n,t)}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"spark.driver.mem.size":"spark.driver.memory";return c()(N(e),n,t)}function H(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"spark.executor.cpu.units":"spark.executor.cores";return c()(N(e),n,t)}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"spark.executor.mem.size":"spark.executor.memory";return c()(N(e),n,t)}function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=K(e)?"spark.num_executors":"spark.executor.instances";return c()(N(e),n,t)}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t;const r=L(e);if(K(e)){const e=c()(r,"package_extensions");if(Array.isArray(e)){const r=a()(e,e=>"conda_yml"===c()(e,"entity.package_extension.type"));r&&(n=c()(r,"entity.package_extension.object_key",t))}}else n=c()(r,"custom_libraries.file_reference");return n}function G(e){return Boolean(T(e)===g)}function q(e){return Boolean(c()(e,"entity.environment"))}function W(e){const t=$(C(e,0));return Boolean(t&&(t>0||-1===t))}function K(e){return"referenced"===c()(e,"entity.environment.spec_type","")}function Y(e,t){const n=[];let i="";switch(T(e)){case"jupyterlab":case"notebook":{const a=A(e),o=ee(R(e,""),"GB");let c=C(e);if(c)if(c=String(c),t===r.n||t===r.o)i="-1"!==String(c)||"-1"!==String(a)||"-1"!==String(o)&&"-1 GB"!==String(o)?"".concat(c," GPU ").concat(a," vCPU ").concat(o," RAM"):"Elastic";else{let t=String(c),n=w(e,"");const r=M(e,"");"K80"===r&&c/2<1&&(t="½"),"string"==typeof n&&(n=n.replace(/NVIDIA Tesla/,"NVIDIA® Tesla®")),i="".concat(t," x ").concat(n," ").concat(r," (").concat(c," GPU)")}else i=t===r.n||t===r.o?"-1"!==String(a)||"-1"!==String(o)&&"-1 GB"!==String(o)?"".concat(a," vCPU, ").concat(o," RAM"):"Elastic":"".concat(a," vCPU ").concat(o," RAM");i=p()(i,new RegExp("-1( GB)?","g"),"Elastic"),n.push(i);break}case h:case g:{const t=U(e),r=ee(D(e),"GB"),i=H(e),a=ee(B(e),"GB"),o=F(e);n.push("Driver: ".concat(t," vCPU ").concat(r," RAM")),n.push("".concat(o," Executor").concat(1===o?"":"s",": ").concat(i," vCPU ").concat(a," RAM"));break}}return n}function Z(e,t,n){const i=[],a=T(e);let o=$(A(e)),c=ee(R(e),"GB"),s=$(C(e,0));const f=W(e);t!==r.n&&t!==r.o||(o=-1===o||"-1"===o?"Elastic":o,c=-1===c||"-1 GB"===c||"-1 MB"===c?"Elastic":c,s=-1===s||"-1"===s?"Elastic":s);const d=$(U(e)),u=ee(D(e),"GB"),l=$(H(e)),p=ee(B(e),"GB"),_=$(F(e));if("notebook"===a&&f?i.push(n({id:"COMMON_RUNTIME_HARDWARE_SPEC2"},{value1:s,unit1:"GPU"})):"notebook"===a&&o&&c?i.push(n({id:"COMMON_RUNTIME_HARDWARE_SPEC1"},{value1:o,unit1:"vCPU",value2:c,unit2:"RAM"})):a!==g&&a!==h||i.push(n({id:"COMMON_RUNTIME_HARDWARE_SPEC_SPARK"},{numDriver:1,value1:d,unit1:"vCPU",value2:u,unit2:"RAM",numExecutor:_,value3:l,unit3:"vCPU",value4:p,unit4:"RAM"})),t===r.m){const t=Object(m.a)(e);i.push(n({id:"COMMON_RUNTIME_CUH_PER_HOUR"},{num:t}))}return i}function z(e,t){let n=e;if(!function(e){return Boolean(w(e,""))}(e)&&(n=JSON.parse(JSON.stringify(e)),c()(e,"metadata.asset_id")===c()(t,"entity.environment")&&t&&c()(t,"entity.environment")&&c()(t,"entity.hardware_specification"))){const r=T(e);K(e)?"notebook"===r?(v()(n,"entity.environment.hardware_specification.entity.hardware_specification.nodes.cpu.units",c()(t,"entity.hardware_specification.num_cpu","")),v()(n,"entity.environment.hardware_specification.entity.hardware_specification.nodes.mem.size",c()(t,"entity.hardware_specification.mem",""))):r===g&&(v()(n,"entity.environment.hardware_specification.entity.hardware_specification.spark.driver.cpu.units",String(c()(t,"entity.hardware_specification.spark.driver.cores",""))),v()(n,"entity.environment.hardware_specification.entity.hardware_specification.spark.driver.mem.size",c()(t,"entity.hardware_specification.spark.driver.memory","")),v()(n,"entity.environment.hardware_specification.entity.hardware_specification.spark.executor.cpu.units",String(c()(t,"entity.hardware_specification.spark.executor.cores",""))),v()(n,"entity.environment.hardware_specification.entity.hardware_specification.spark.executor.mem.size",c()(t,"entity.hardware_specification.spark.executor.memory","")),v()(n,"entity.environment.hardware_specification.entity.hardware_specification.spark.num_executors",c()(t,"entity.hardware_specification.spark.executor.instances"))):v()(n,"entity.environment.hardware_specification",Object.assign({},c()(n,"entity.environment.hardware_specification",{}),u()(c()(t,"entity.hardware_specification",{}),["spark","num_cpu","mem"])))}return n}const J=e=>{const t=[g,"jupyterlab"];return e!==r.n&&e!==r.o||t.push(h),t},X=()=>["jupyterlab"],Q=(e,t)=>e.filter(e=>{const n=T(e),i=c()(S(e),"[0].language","");return"jupyterlab"===n||n===g&&f()(i,"python")||n===h&&f()(i,"python")&&(t===r.n||t===r.o)});function $(e,t){let n=parseInt(e,10);return Number.isNaN(n)&&void 0!==t&&(n=t),n}function ee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=parseFloat(e);if("string"!=typeof e||Number.isNaN(r))return n;const i=new RegExp("(m|mb|mi)$"),a=new RegExp("(g|gb|gi)$"),o=i.test(e.toLowerCase()),c=a.test(e.toLowerCase());return o&&"GB"===t?r/=1024:c&&"MB"===t&&(r*=1024),r+" "+t}const te="python",ne="python3",re="scala",ie="r",ae=e=>{var t,n;let r=[];const i=S(e);if(Array.isArray(i))r=i.map(e=>oe(null==e?void 0:e.language)||"");else if("remote_yarn"===(null==e||null===(t=e.entity)||void 0===t||null===(n=t.environment)||void 0===n?void 0:n.sub_type)){const t=L(e);t&&t.language&&(r=[oe(t.language)])}return r};function oe(e){return"string"==typeof e?e.toLowerCase():e}},"3gDZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p}));var r=n("obZm"),i=n("YyUk"),a=n("mwIZ"),o=n.n(a),c=n("9oTK"),s=n.n(c),f=n("fZuP"),d=n("cr+I");function u(e,t,n){const a="python2"===n||"python3"===n?"python":n,o=Object(d.stringify)({computeType:t,language:a,scope:i.h,scopeid:e});return new s.a((e,t)=>{Object(r.b)({url:"/analytics/notebooks/v2/api/code-snippets/project-token?".concat(o),method:"GET",headers:r.a,json:!0},[200],(function(n,r,i){return n?t(Object(f.a)(n,i)):e(r)}))})}function l(){return new s.a((e,t)=>{Object(r.b)({url:"/analytics/notebooks/v2/api/projects",method:"GET",json:!0,headers:r.a},[200],(function(n,r,i){return n?t(Object(f.a)(n,i)):e(r)}))})}function p(e){return Boolean(o()(e,"entity.integrations.jupyterlab.guid"))}},"5FXS":function(e,t,n){"use strict";n.r(t);var r=n("ANjH"),i=n("/MKj"),a=n("obZm"),o=n("mwIZ"),c=n.n(o),s=n("fi8Q"),f=n("cr+I");const d=e=>{const t=c()(e,"body.errors[0].message",e.message);throw new Error(t)};var u=n("2OET"),l=n("pVnL"),p=n.n(l),_=(n("3bBZ"),n("p532"),n("APvk")),v=n("5HLI"),m=n("A6ji"),g=n("9kjC"),h=n("5FDO"),b=n("cGeq"),y=n("plu6"),k=n("q1tI"),O=n.n(k),E=n("PAhG"),I=n("a1iI"),T={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",heading:"NewCodePackage__heading___th3QI",bleed:"NewCodePackage__bleed___iiFf+"},x={uiBackground:"#161616",interactive01:"#0f62fe",interactive02:"#6f6f6f",interactive03:"#fff",interactive04:"#4589ff",danger:"#da1e28",ui01:"#262626",ui02:"#393939",ui03:"#393939",ui04:"#6f6f6f",ui05:"#f4f4f4",text01:"#f4f4f4",text02:"#c6c6c6",text03:"#6f6f6f",text04:"#fff",text05:"#8d8d8d",link01:"#78a9ff",inverseLink:"#0f62fe",icon01:"#f4f4f4",icon02:"#c6c6c6",icon03:"#fff",field01:"#262626",field02:"#393939",inverse01:"#161616",inverse02:"#f4f4f4",support01:"#fa4d56",support02:"#42be65",support03:"#f1c21b",support04:"#4589ff",inverseSupport01:"#da1e28",inverseSupport02:"#24a148",inverseSupport03:"#f1c21b",inverseSupport04:"#0f62fe",overlay01:"rgba(0,0,0,.65)",focus:"#fff",inverseFocusUi:"#0f62fe",hoverPrimary:"#0353e9",hoverPrimaryText:"#a6c8ff",hoverSecondary:"#606060",hoverTertiary:"#f4f4f4",hoverUi:"#353535",hoverSelectedUi:"#4c4c4c",hoverDanger:"#b81921",hoverRow:"#353535",inverseHoverUi:"#e5e5e5",activePrimary:"#002d9c",activeSecondary:"#393939",activeTertiary:"#c6c6c6",activeUi:"#525252",activeDanger:"#750e13",selectedUi:"#393939",highlight:"#002d9c",skeleton01:"#353535",skeleton02:"#525252",visitedLink:"#be95ff",disabled01:"#262626",disabled02:"#525252",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#6f6f6f",brand03:"#fff",selected:"#393939",dapNavHeight:"48px",dapNavActionbarHeight:"88px",heading:"NewCodePackage-dark__heading___YzH9V",bleed:"NewCodePackage-dark__bleed___7Yf4R"},S={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",heading:"NewCodePackage-light__heading___wPQOZ",bleed:"NewCodePackage-light__bleed___t1cEQ"};var N=n("wSuE");const L=Object(i.connect)(()=>({}),e=>({createCodePackage:t=>e(function(e){let{scope:t,scopeId:n,name:r,description:i}=e;const o=Object(s.c)(t),c="/v2/code_packages?".concat(Object(f.stringify)({[o]:n}));return()=>Object(a.c)({url:"/analytics/notebooks/v2/api/proxy?api_href=".concat(encodeURIComponent(c)),method:"POST",json:!0,headers:a.a,data:JSON.stringify({name:r,description:i})},[201]).then(e=>e).catch(d)}(t))}));t.default=Object(r.compose)(N.hot,u.c,L)(e=>{let{context:t,createCodePackage:n,intl:r,scope:i,scopeId:a,tearsheetMode:o,themeSettings:c}=e;const{sendTearsheetCancelEvent:d,sendTearsheetCommitEvent:u}=Object(k.useContext)(E.b),l=Object(k.useMemo)(()=>Object(I.getStyles)(c,T,S,x),[c]),[N,L]=Object(k.useState)(),[j,R]=Object(k.useState)(),[A,C]=Object(k.useState)(!1),[w,M]=Object(k.useState)(null),[P,U]=Object(k.useMemo)(()=>{const e=N&&N.length>100;let t;return e&&(t=r.formatMessage({id:"CODE_PACKAGE_NAME_INVALID_1"},{length:100})),[t,e]},[N,r]),[D,H]=Object(k.useMemo)(()=>{const e=j&&j.length>3e3;let t;return e&&(t=r.formatMessage({id:"CODE_PACKAGE_DESCRIPTION_INVALID_1"},{length:3e3})),[t,e]},[j,r]);return O.a.createElement(y.a,{loading:A},w&&O.a.createElement(y.e,p()({},w,{onCloseButtonClick:()=>M(null)})),O.a.createElement(y.c,{title:r.formatMessage({id:"CODE_PACKAGE_TITLE"}),contextLabel:r.formatMessage({id:"COMMON_NEW_ASSET"})}),O.a.createElement(y.b,null,O.a.createElement(_.a,{fullWidth:!0,className:l.bleed},O.a.createElement(v.a,null,O.a.createElement(m.a,{className:l.heading,lg:8,md:4},r.formatMessage({id:"CODE_PACKAGE_DEFINE_DETAILS"}))),O.a.createElement(v.a,null,O.a.createElement(m.a,{lg:8,md:8},O.a.createElement(g.a,{legendText:r.formatMessage({id:"COMMON_NAME"})},O.a.createElement(h.a,{id:"code-package-name",invalid:U,invalidText:P,labelText:"",onChange:e=>L(e.target.value),placeholder:r.formatMessage({id:"CODE_PACKAGE_NAME_PLACEHOLDER"}),type:"text"})),O.a.createElement(g.a,{legendText:r.formatMessage({id:"COMMON_DESCRIPTION_OPTIONAL"})},O.a.createElement(b.a,{id:"code-package-description",invalid:H,invalidText:D,labelText:"",onChange:e=>R(e.target.value),placeholder:r.formatMessage({id:"CODE_PACKAGE_DESCRIPTION_PLACEHOLDER"})})))))),O.a.createElement(y.d,{ghostButtonText:r.formatMessage({id:"COMMON_CANCEL"}),primaryButtonText:r.formatMessage({id:"COMMON_CREATE"}),primaryButtonDisabled:j&&H||U||!N||A,onGhostButtonClick:()=>d(),onPrimaryButtonClick:()=>(C(!0),w&&M(null),n({scope:i,scopeId:a,name:N,description:j}).then(e=>{var n;const r=null==e||null===(n=e.metadata)||void 0===n?void 0:n.asset_id,c=e,d=(e=>{let{id:t,scope:n,scopeId:r,context:i}=e;return"/code-packages/".concat(t,"?").concat(Object(f.stringify)({context:i,[Object(s.c)(n)]:r}))})({id:r,scope:i,scopeId:a,context:t});o?u({assetId:r,asset:c,redirectUrl:d}):window.location.assign(d)},e=>{M({title:r.formatMessage({id:"CODE_PACKAGE_CREATION_FAILED"}),subtitle:e.message,kind:"error"})}).finally(()=>C(!1)))}))})},"8bdp":function(e,t,n){"use strict";n.r(t);n("3bBZ");var r=n("lSNA"),i=n.n(r),a=n("hH6s"),o=n("OLAl"),c=n("NMS0"),s=n("mFXU"),f=n("SzS2"),d=n("17x9"),u=n.n(d),l=n("q1tI"),p=n.n(l),_=n("1m20"),v=n("q0FY"),m=n("dHyu"),g=n("F83D"),h=n("h9Ed"),b=n("h4N7"),y=n("aYAR"),k=n("mwIZ"),O=n.n(k),E=n("TSYQ"),I=n.n(E),T=n("3gDZ"),x=n("a1iI"),S=n("2OET"),N={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",title:"VersionHeader__title___3X3t6",label:"VersionHeader__label___1J14W",actionContainer:"VersionHeader__actionContainer___+I0gz",value:"VersionHeader__value___YviSg",description:"VersionHeader__description___MGNx3",headerFirstRow:"VersionHeader__headerFirstRow___OTICg",headerBottomRow:"VersionHeader__headerBottomRow___M+els",header:"VersionHeader__header___jt0on"},L={uiBackground:"#161616",interactive01:"#0f62fe",interactive02:"#6f6f6f",interactive03:"#fff",interactive04:"#4589ff",danger:"#da1e28",ui01:"#262626",ui02:"#393939",ui03:"#393939",ui04:"#6f6f6f",ui05:"#f4f4f4",text01:"#f4f4f4",text02:"#c6c6c6",text03:"#6f6f6f",text04:"#fff",text05:"#8d8d8d",link01:"#78a9ff",inverseLink:"#0f62fe",icon01:"#f4f4f4",icon02:"#c6c6c6",icon03:"#fff",field01:"#262626",field02:"#393939",inverse01:"#161616",inverse02:"#f4f4f4",support01:"#fa4d56",support02:"#42be65",support03:"#f1c21b",support04:"#4589ff",inverseSupport01:"#da1e28",inverseSupport02:"#24a148",inverseSupport03:"#f1c21b",inverseSupport04:"#0f62fe",overlay01:"rgba(0,0,0,.65)",focus:"#fff",inverseFocusUi:"#0f62fe",hoverPrimary:"#0353e9",hoverPrimaryText:"#a6c8ff",hoverSecondary:"#606060",hoverTertiary:"#f4f4f4",hoverUi:"#353535",hoverSelectedUi:"#4c4c4c",hoverDanger:"#b81921",hoverRow:"#353535",inverseHoverUi:"#e5e5e5",activePrimary:"#002d9c",activeSecondary:"#393939",activeTertiary:"#c6c6c6",activeUi:"#525252",activeDanger:"#750e13",selectedUi:"#393939",highlight:"#002d9c",skeleton01:"#353535",skeleton02:"#525252",visitedLink:"#be95ff",disabled01:"#262626",disabled02:"#525252",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#6f6f6f",brand03:"#fff",selected:"#393939",dapNavHeight:"48px",dapNavActionbarHeight:"88px",title:"VersionHeader-dark__title___C1p4o",label:"VersionHeader-dark__label___3Roqp",actionContainer:"VersionHeader-dark__actionContainer___T9kUc",value:"VersionHeader-dark__value___qrn-m",description:"VersionHeader-dark__description___30j3m",headerFirstRow:"VersionHeader-dark__headerFirstRow___Xv3sS",headerBottomRow:"VersionHeader-dark__headerBottomRow___R8qJm",header:"VersionHeader-dark__header___NWJR1"},j={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",title:"VersionHeader-light__title___dCFDA",label:"VersionHeader-light__label___oUnbj",actionContainer:"VersionHeader-light__actionContainer___YE7Fy",value:"VersionHeader-light__value___EsOp8",description:"VersionHeader-light__description___Clm-V",headerFirstRow:"VersionHeader-light__headerFirstRow___eXUOY",headerBottomRow:"VersionHeader-light__headerBottomRow___g6rLR",header:"VersionHeader-light__header___Zgkai"};let R=N;class A extends p.a.PureComponent{constructor(e,t){super(e,t),i()(this,"formatMessage",void 0),this.formatMessage=this.props.intl.formatMessage,R=Object(x.getStyles)(t.themeSettings,N,j,L)}_onCopy(e){e.preventDefault(),Object(T.b)().then(e=>{this.context.openModal(p.a.createElement(b.c,{title:this.formatMessage({id:"VIEW_NOTEBOOK_VERSION_SELECT_PROJECT"}),onAction:e=>this.props.onCopy(e.id),items:e,primaryButtonText:this.formatMessage({id:"COMMON_SELECT"}),secondaryButtonText:this.formatMessage({id:"COMMON_CANCEL"}),listType:"selectItem",size:"xs"}))},e=>this.context.openModal(p.a.createElement(b.a,{title:this.formatMessage({id:"VIEW_NOTEBOOK_VERSION_PROJECT_LOADING_ERROR_TITLE"}),message:this.formatMessage({id:"VIEW_NOTEBOOK_VERSION_PROJECT_LOADING_ERROR_DESCRIPTION"})+e,primaryButtonText:this.formatMessage({id:"COMMON_CLOSE"}),closeIconText:this.formatMessage({id:"COMMON_CLOSE"})})))}_onDownload(e){e.preventDefault(),this.props.onDownload()}_getAuthorMarkup(e,t){const n=p.a.createElement(_.a,{className:R.label},t);return e&&"string"==typeof e?!1===this.props.isLoading?p.a.createElement(p.a.Fragment,null,n,p.a.createElement("span",{className:R.value},e)):p.a.createElement(p.a.Fragment,null,n,p.a.createElement(v.a,{width:"150px"})):null}_getLastUpdatedMarkup(e,t){const n=p.a.createElement(_.a,{className:R.label},t);return e&&"string"==typeof e?!1===this.props.isLoading?p.a.createElement(p.a.Fragment,null,n,p.a.createElement("span",{className:R.value},e)):p.a.createElement(p.a.Fragment,null,n,p.a.createElement(v.a,{width:"150px"})):null}render(){const{formatMessage:e,formatDate:t}=this.props.intl,n=O()(this.props.notebookAsset,"metadata.name",""),r=O()(this.props.notebookAsset,"metadata.description",""),i=O()(this.props.notebookAsset,"entity.notebook.kernel.language",""),a=O()(this.props.notebookAsset,"entity.notebook.kernel.display_name",""),o=t(O()(this.props.snapshot,"metadata.created_at"),y.j),s=this.props.isSharedView?e({id:"VIEW_NOTEBOOK_VERSION_AUTHOR"}):e({id:"VIEW_NOTEBOOK_VERSION_CREATOR"}),f=this.props.isSharedView?e({id:"VIEW_NOTEBOOK_VERSION_LAST_UPDATED"}):e({id:"VIEW_NOTEBOOK_VERSION_DATE"});let d;this.props.user&&(d=Object(c.a)(this.props.accounts,O()(this.props.snapshot,"entity.created_by_iui"),O()(this.props.snapshot,"entity.created_by"),e({id:"COMMON_UNKNOWN"})));const u=this._getAuthorMarkup(d,s),l=this._getLastUpdatedMarkup(o,f);return p.a.createElement("div",{className:I()({"bx--grid":!0,"bx--grid--full-width":!0,[R.header]:!0})},p.a.createElement("div",{className:I()({"bx--row":!0,[R.headerFirstRow]:!0})},p.a.createElement("div",{className:"bx--col bx--col-max-13 bx--col-xlg-13 bx--col-lg-13 bx--col-md-6 bx--col-sm-2"},p.a.createElement("h3",{className:R.title},n)),this.props.actionsEnabled&&this.props.user&&p.a.createElement("div",{className:"bx--col"},p.a.createElement("div",{className:R.actionContainer},p.a.createElement(m.a,{id:"notebook-copy-link",kind:"ghost",onClick:e=>this._onCopy(e),iconDescription:e({id:"VIEW_NOTEBOOK_COPY_TO_PROJECT"}),tooltipPosition:"bottom",tooltipAlignment:"end",renderIcon:g.Yd,hasIconOnly:!0}),p.a.createElement(m.a,{id:"notebook-download-link",kind:"ghost",onClick:e=>this._onDownload(e),iconDescription:e({id:"COMMON_DOWNLOAD"}),tooltipPosition:"bottom",tooltipAlignment:"end",renderIcon:h.Ie,hasIconOnly:!0})))),p.a.createElement("div",{className:I()({"bx--row":!0,[R.headerBottomRow]:!0})},p.a.createElement("div",{className:"bx--col bx--col-max-9 bx--col-xlg-9 bx--col-lg-9 bx--col-md-4 bx--col-sm-1"},p.a.createElement("p",{className:R.description},r)),p.a.createElement("div",{className:"bx--col bx--col-max-2 bx--col-xlg-2 bx--col-lg-2 bx--col-md-1 bx--col-sm-1 bx--offset-max-1 bx--offset-xlg-1 bx--offset-lg-1 bx--offset-md-0 bx--offset-sm-0"},u),p.a.createElement("div",{className:"bx--col bx--col-max-2 bx--col-xlg-2 bx--col-lg-2 bx--col-md-1 bx--col-sm-1"},p.a.createElement(_.a,{className:R.label},e({id:"COMMON_LANGUAGE"})),p.a.createElement("span",{className:R.value},a||i)),p.a.createElement("div",{className:"bx--col bx--col-max-2 bx--col-xlg-2 bx--col-lg-2 bx--col-md-1 bx--col-sm-1"},l)))}}A.contextTypes={themeSettings:u.a.object,openModal:u.a.func.isRequired,deploymentTarget:u.a.string.isRequired},A.propTypes={intl:u.a.object.isRequired,accounts:u.a.array.isRequired,actionsEnabled:u.a.bool.isRequired,className:u.a.string,isSharedView:u.a.bool.isRequired,notebookAsset:u.a.object.isRequired,onCopy:u.a.func.isRequired,onDownload:u.a.func.isRequired,snapshot:u.a.object.isRequired,user:u.a.object,isLoading:u.a.bool.isRequired};var C=Object(S.c)(A),w=n("HwYi"),M=n("cr+I");class P extends p.a.Component{constructor(e){super(e),i()(this,"_bind_onNotebookLoaded",void 0),i()(this,"_bind_onCopy",void 0),i()(this,"_bind_onDownload",void 0),this.state={status:"NOTEBOOK_LOADING"},this._bind_onNotebookLoaded=this._onNotebookLoaded.bind(this),this._bind_onCopy=this._onCopy.bind(this),this._bind_onDownload=this._onDownload.bind(this)}componentDidMount(){Object(o.i)(this.props.intl,this.props.context,O()(this.props.notebookAsset,"metadata.name","")),Object(o.b)();const e=Object(c.h)(this.props.snapshot),t=Object(c.e)(this.props.snapshot);this.props.isAnonymousUser||!e.length&&!t.length||this.props.loadAccountsFromServer(e,t)}_getDefaultParameters(){const e={[this.props.scope]:this.props.scopeId};return this.props.token&&(e.access_token=this.props.token),this.props.versionId&&(e.version=this.props.versionId),e}_onNotebookLoaded(e){"success"===e?this.setState({status:"NOTEBOOK_LOADED"}):this.setState({status:"NOTEBOOK_FAILED"})}_onCopy(e){const t=this._getDefaultParameters(),n=this.props.jupyterConverterUrl,r=this.props.commonApiUrl,i=Object(w.a)(Object.assign({},t,{format:"ipynb"}),/^https?/.test(n)?n:r+n,this.props.notebookId),a=Object(M.stringify)({projectid:e,name:O()(this.props.notebookAsset,"metadata.name",""),caller:"copyshared",nburl:i});window.location.assign("/analytics/notebooks/new-notebook?".concat(a))}_onDownload(){const e=this._getDefaultParameters(),t=Object(w.a)(Object.assign({},e,{format:"ipynb"}),this.props.jupyterConverterUrl,this.props.notebookId);window.open(t)}_getSpinner(){let e;return"NOTEBOOK_LOADING"===this.state.status?e=p.a.createElement(f.a,{withOverlay:!0}):"NOTEBOOK_FAILED"===this.state.status&&(e=p.a.createElement(a.a,{intl:this.props.intl,key:"LoadingIndicator",infront:!0,parentOverlay:!0,size:a.c,type:a.e,message:this.props.intl.formatMessage({id:"COMMON_NOTEBOOK_LOAD_FAILED"})})),e}render(){const e=Object(w.a)(this._getDefaultParameters(),this.props.jupyterConverterUrl,this.props.notebookId),t=this._getSpinner();return p.a.createElement("div",null,p.a.createElement(C,{key:"VersionHeader",accounts:this.props.accounts,actionsEnabled:U(this.props.snapshot),isSharedView:this.props.isSharedView,notebookAsset:this.props.notebookAsset,onCopy:this._bind_onCopy,onDownload:this._bind_onDownload,snapshot:this.props.snapshot,user:this.props.user,isLoading:"NOTEBOOK_LOADING"===this.state.status}),t,p.a.createElement(s.a,{key:"ConverterFrame",url:e,id:"notebook",className:"shared-nb-frame",onLoaded:this._bind_onNotebookLoaded}))}}function U(e){const t=O()(e,"entity.shares.public.enabled",!1),n=O()(e,"entity.shares.public.content_filter","");return t&&("none"===n||"all_marked_code_cells"===n)}P.propTypes={intl:u.a.object.isRequired,accounts:u.a.array.isRequired,spaId:u.a.string.isRequired,scope:u.a.string.isRequired,scopeId:u.a.string.isRequired,notebookId:u.a.string.isRequired,context:u.a.string,user:u.a.object,token:u.a.string,versionId:u.a.string,isVersionView:u.a.bool,isSharedView:u.a.bool,isAnonymousUser:u.a.bool,commonApiUrl:u.a.string.isRequired,jupyterConverterUrl:u.a.string.isRequired,notebookAsset:u.a.object,snapshot:u.a.object,loadAccountsFromServer:u.a.func.isRequired};var D=n("ANjH"),H=n("/MKj"),B=n("wSuE"),F=n("LzpX"),V=n("Ty5D");t.default=Object(D.compose)(S.c,B.hot,V.o,Object(H.connect)((function(e){return{accounts:e.accounts,notebookAsset:O()(e,"notebookAsset.resource"),snapshot:e.snapshot}}),(function(e){return{loadAccountsFromServer:function(){return e(Object(F.b)(...arguments))}}})))(P)},"8tkz":function(e,t,n){"use strict";n.r(t);var r=n("94Vk"),i=n("o9LO"),a=n("kiyF"),o=n("dHyu"),c=n("f4gr"),s=n("17x9"),f=n.n(s),d=n("q1tI"),u=n.n(d),l=n("sUTr"),p=n("mwIZ"),_=n.n(p),v=n("a1iI"),m={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",title:"ChangeEnvironmentPage__title___DtBRK",content:"ChangeEnvironmentPage__content___lRIRv",select:"ChangeEnvironmentPage__select___71lc2",footer:"ChangeEnvironmentPage__footer___Nz1ag"},g={uiBackground:"#161616",interactive01:"#0f62fe",interactive02:"#6f6f6f",interactive03:"#fff",interactive04:"#4589ff",danger:"#da1e28",ui01:"#262626",ui02:"#393939",ui03:"#393939",ui04:"#6f6f6f",ui05:"#f4f4f4",text01:"#f4f4f4",text02:"#c6c6c6",text03:"#6f6f6f",text04:"#fff",text05:"#8d8d8d",link01:"#78a9ff",inverseLink:"#0f62fe",icon01:"#f4f4f4",icon02:"#c6c6c6",icon03:"#fff",field01:"#262626",field02:"#393939",inverse01:"#161616",inverse02:"#f4f4f4",support01:"#fa4d56",support02:"#42be65",support03:"#f1c21b",support04:"#4589ff",inverseSupport01:"#da1e28",inverseSupport02:"#24a148",inverseSupport03:"#f1c21b",inverseSupport04:"#0f62fe",overlay01:"rgba(0,0,0,.65)",focus:"#fff",inverseFocusUi:"#0f62fe",hoverPrimary:"#0353e9",hoverPrimaryText:"#a6c8ff",hoverSecondary:"#606060",hoverTertiary:"#f4f4f4",hoverUi:"#353535",hoverSelectedUi:"#4c4c4c",hoverDanger:"#b81921",hoverRow:"#353535",inverseHoverUi:"#e5e5e5",activePrimary:"#002d9c",activeSecondary:"#393939",activeTertiary:"#c6c6c6",activeUi:"#525252",activeDanger:"#750e13",selectedUi:"#393939",highlight:"#002d9c",skeleton01:"#353535",skeleton02:"#525252",visitedLink:"#be95ff",disabled01:"#262626",disabled02:"#525252",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#6f6f6f",brand03:"#fff",selected:"#393939",dapNavHeight:"48px",dapNavActionbarHeight:"88px",title:"ChangeEnvironmentPage-dark__title___V0pt6",content:"ChangeEnvironmentPage-dark__content___1MjSL",select:"ChangeEnvironmentPage-dark__select___LT3XM",footer:"ChangeEnvironmentPage-dark__footer___gjvoo"},h={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",title:"ChangeEnvironmentPage-light__title___JHqKl",content:"ChangeEnvironmentPage-light__content___m3ZvJ",select:"ChangeEnvironmentPage-light__select___MjK+D",footer:"ChangeEnvironmentPage-light__footer___minAm"};let b,y,k=m;class O extends u.a.Component{constructor(e,t){var n;super(e,t),k=Object(v.getStyles)(t.themeSettings,m,h,g),y=this.getPreparedEnvironments(e.environments),b=y.map(e=>{var t,n,i;return(null==e||null===(t=e.status)||void 0===t?void 0:t.status)===l.a.CONSTRICTED||(null==e||null===(n=e.status)||void 0===n?void 0:n.status)===l.a.REMOVED||(null==e||null===(i=e.status)||void 0===i?void 0:i.status)===l.a.INVALID?u.a.createElement(r.a,{key:e.id,value:e.id,text:e.name,disabled:!0}):u.a.createElement(r.a,{key:e.id,value:e.id,text:e.name})});const i=e.environmentId||_()(y,"[0].id"),a=null===(n=y.find(e=>e.id===i))||void 0===n?void 0:n.status;this.state={selectedEnvironment:i,supportStatus:a.status,statusMessage:a&&a.status!==l.a.AVAILABLE?a.reason:null}}getPreparedEnvironments(e){if(!Array.isArray(e))return[];return e.filter(e=>{var t,n;const r=null==e||null===(t=e.status)||void 0===t?void 0:t.status,i=null==e||null===(n=e.metadata)||void 0===n?void 0:n.asset_id;return r===l.a.AVAILABLE||r===l.a.DEPRECATED||r===l.a.CONSTRICTED&&i===this.props.environmentId||r===l.a.REMOVED&&i===this.props.environmentId||r===l.a.INVALID&&i===this.props.environmentId}).map(e=>{var t,n,r;return{name:null==e||null===(t=e.entity)||void 0===t||null===(n=t.environment)||void 0===n?void 0:n.display_name,id:null==e||null===(r=e.metadata)||void 0===r?void 0:r.asset_id,status:null==e?void 0:e.status}})}onEnvironmentSelected(e){var t;const n=e.target.value,r=null===(t=y.find(e=>e.id===n))||void 0===t?void 0:t.status;console.log(n),this.setState({selectedEnvironment:n,supportStatus:r.status,statusMessage:r&&r.status!==l.a.AVAILABLE?r.reason:null})}isReadyToSubmitData(){const e=this.state.supportStatus===l.a.AVAILABLE||this.state.supportStatus===l.a.DEPRECATED,t=this.state.selectedEnvironment!==this.props.environmentId;return e&&t}onSubmit(){this.props.patchWdpNotebook(this.props.projectId,this.props.notebookId,{environment:this.state.selectedEnvironment}),Object(c.b)({}),Object(c.a)()}onCancel(){Object(c.a)()}render(){const{formatMessage:e}=this.props.intl,t=this.isReadyToSubmitData();return u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",{className:k.title},e({id:"COMMON_SELECT_ENVIRONMENT"})),u.a.createElement("div",{className:k.content},u.a.createElement(i.a,{id:"environmentSelection",className:k.select,value:this.state.selectedEnvironment,onChange:this.onEnvironmentSelected.bind(this),labelText:e({id:"COMMON_ENVIRONMENT_DEFINITION"}),light:!0},b),this.state.statusMessage&&u.a.createElement(a.b,{kind:"warning",title:this.state.statusMessage,hideCloseButton:!0})),u.a.createElement("div",{className:k.footer},u.a.createElement(o.a,{className:k.fullBleedButton,id:"newNotebook_newNotebookForm_cancelButton",kind:"secondary",onClick:this.onCancel.bind(this)},e({id:"COMMON_CANCEL"})),u.a.createElement(o.a,{className:k.fullBleedButton,id:"newNotebook_newNotebookForm_submitButton",kind:"primary",onClick:this.onSubmit.bind(this),disabled:!t},e({id:"COMMON_CHANGE"}))))}}O.contextTypes={deploymentTarget:f.a.string.isRequired,themeSettings:f.a.object},O.propTypes={notebookId:f.a.string.isRequired,environments:f.a.array.isRequired,intl:f.a.object.isRequired,patchWdpNotebook:f.a.func.isRequired,environmentId:f.a.string};var E=n("YyUk"),I=n("ANjH"),T=n("/MKj"),x=n("wSuE"),S=n("2OET"),N=n("WX6R"),L=n("Ty5D");t.default=Object(I.compose)(S.c,x.hot,L.o,Object(T.connect)((function(e){return{environments:_()(e,"environments.resources",[])}}),(function(e){return{patchWdpNotebook:(t,n,r)=>e(Object(N.d)({scope:E.h,scopeId:t,notebookId:n,patch:r}))}})))(O)},HwYi:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("cr+I");function i(e,t,n){const i=Object(r.stringify)(e);return"".concat(t,"/").concat(n,"?").concat(i)}},IbR8:function(e,t,n){"use strict";function r(e){let t="";const n=/^http.?:\/\/[^/?]+/g.exec(e);return n&&(t=e.substring(0,n[0].length)),t}n.d(t,"a",(function(){return r}))},LzpX:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return _}));var r=n("mwIZ"),i=n.n(r),a=n("7tbW"),o=n.n(a),c=n("Yc4W"),s=n("9oTK"),f=n.n(s),d=n("obZm"),u=n("fZuP"),l=n("IfIl");function p(e,t){const n=o()(Array.isArray(e)?e:[e]),r=o()(Array.isArray(t)?t:[t]);return function(e,t){const a=i()(t(),"accounts",[]),o=Object(l.b)(a,n,r);let s;return s=o?new f.a((t,n)=>{Object(d.b)({url:"/analytics/notebooks/v2/api/accounts",method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},json:!0,data:JSON.stringify(o)},[200],(function(r,i,a){if(r)return n(Object(u.a)(r,a));const o=i;return e(Object(c.a)(o)),t()}))}):f.a.resolve(),s}}function _(){return function(){return new f.a((e,t)=>{Object(d.b)({url:"/analytics/notebooks/v2/api/accounts/sessionpulse",method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},cache:!1},[204],(function(n,r,i){if(n)return t(Object(u.a)(n,i));return e(r)}))})}}},NMS0:function(e,t,n){"use strict";n.d(t,"h",(function(){return _})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return O}));var r=n("mwIZ"),i=n.n(r),a=n("v8eK"),o=n.n(a);const c=["entity.created_by"],s=["entity.created_by_iui"],f=["metadata.usage.last_updater"],d=["metadata.usage.last_updater_id"],u=["entity.runtime.lock.entity.owner_id"],l=["entity.runtime.lock.entity.owner_id_iui"];function p(e){return function(e){return e&&"object"==typeof e&&e.entity&&"object"==typeof e.entity&&"string"==typeof e.entity.display_name}(e)?e.entity.display_name:""}function _(e){return k(c,[e])}function v(e){return k(s,[e])}function m(e,t){return o()(k(f,[e]),k(u,[t]))}function g(e,t){return o()(k(d,[e]),k(l,[t]))}function h(e,t){return m(e,t)}function b(e,t){return g(e,t)}function y(e){return i()(e,"entity.members",[]).map(e=>i()(e,"id"))}function k(e,t){const n=t.reduce((function(t,n){return e.reduce((function(e,t){const r=i()(n,t,"");return r&&(e[r]=!0),e}),t)}),{});return Object.keys(n)}function O(e,t,n,r){let a=r||"Unknown";const o="string"==typeof n?n.toLowerCase():"-",c=e.filter(e=>i()(e,"entity.iam_id","")===t||i()(e,"metadata.iui","").toLowerCase()===o).map(p);return c.length>0&&(a=c[0]),a}},WX6R:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return h}));var r=n("obZm"),i=n("fi8Q"),a=n("Yc4W"),o=n("YyUk"),c=n("NIJN"),s=n.n(c),f=n("9oTK"),d=n.n(f),u=n("fZuP");const l=["name","description","scope","scopeId","computeId","originatesFrom","fileReference","kernel"],p=s()(l,["runtimeEnvironmentId"]);function _(e){let{scope:t=o.h,scopeId:n,notebookId:i}=e;return function(e){return new d.a((o,c)=>{Object(r.b)({url:"/analytics/notebooks/v2/api/notebooks/".concat(i,"?scope=").concat(t,"&scopeid=").concat(n),method:"GET",json:!0,headers:r.a},[200],(function(t,n,r){return t?c(Object(u.a)(t,r)):(e(Object(a.A)(n)),o(n))}))})}}function v(e){let{scope:t=o.h,scopeId:n,notebookId:i,patch:c}=e;return function(e){return new d.a((o,s)=>{Object(r.b)({url:"/analytics/notebooks/v2/api/notebooks/".concat(i,"?scope=").concat(t,"&scopeid=").concat(n),method:"PATCH",json:!0,headers:r.a,data:JSON.stringify(c)},[200],(function(r,f,d){return r?s(Object(u.a)(r,d)):(e(Object(a.C)(t,n,i,c)),o(f))}))})}}function m(e){let{scope:t=o.h,scopeId:n,notebookId:i}=e;return function(e){return new d.a((o,c)=>{Object(r.b)({url:"/analytics/notebooks/v2/api/notebooks/".concat(i,"/lock?scope=").concat(t,"&scopeid=").concat(n),method:"DELETE",headers:r.a},[204],(function(r,s,f){return r?c(Object(u.a)(r,f)):(e(Object(a.D)(t,n,i)),o(s))}))})}}function g(e){let{scope:t=o.h,scopeId:n,notebookId:i}=e;return function(e){return new d.a((o,c)=>{Object(r.b)({url:"/analytics/notebooks/v2/api/notebooks/".concat(i,"/lock?scope=").concat(t,"&scopeid=").concat(n),method:"POST",headers:r.a},[200],(function(r,s,f){return r?c(Object(u.a)(r,f)):(e(Object(a.B)(t,n,i,s)),o(s))}))})}}function h(e){const t=Object(i.a)("async-wdp-notebook.createNotebook",l,e),n=Object(i.b)("async-wdp-notebook.createNotebook",p,e);return function(){return new d.a((i,a)=>t||n?a(t||n):Object(r.b)({url:"/analytics/notebooks/v2/api/notebooks/create",method:"POST",json:!0,headers:r.a,data:JSON.stringify(e)},[201],(function(e,t,n){return e?a(Object(u.a)(e,n)):i(t)})))}}},Yc4W:function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"w",(function(){return d})),n.d(t,"v",(function(){return u})),n.d(t,"t",(function(){return l})),n.d(t,"s",(function(){return p})),n.d(t,"n",(function(){return _})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return m})),n.d(t,"z",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return y})),n.d(t,"i",(function(){return k})),n.d(t,"A",(function(){return O})),n.d(t,"C",(function(){return E})),n.d(t,"D",(function(){return I})),n.d(t,"B",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"x",(function(){return N})),n.d(t,"y",(function(){return L})),n.d(t,"d",(function(){return j})),n.d(t,"p",(function(){return R})),n.d(t,"o",(function(){return A})),n.d(t,"u",(function(){return C}));var r=n("Z781");function i(e){return{type:r.h,datatypes:e}}function a(e){return{type:r.c,comments:e}}function o(e){return{type:r.d,comment:e}}function c(e){return{type:r.e,commentId:e}}function s(e){return{type:r.f,comment:e}}function f(e){return{type:r.a,accounts:e}}function d(e){return{type:r.v,space:e}}function u(e){return{type:r.w,error:e}}function l(e){return{type:r.s,project:e}}function p(e){return{type:r.t,error:e}}function _(e){return{type:r.i,environments:e}}function v(e,t){return{type:r.k,id:e,error:t}}function m(e){return{type:r.j,environment:e}}function g(e){return{type:r.B,versions:e}}function h(e){return{type:r.l,fileAssets:e}}function b(e){return{type:r.q,notebookJob:e}}function y(e){return{type:r.p,notebookJobs:e}}function k(e){return{type:r.g,connectionAssets:e}}function O(e){return{type:r.C,wdpNotebook:e}}function E(e,t,n,i){return{type:r.r,scope:e,scopeId:t,notebookId:n,patch:i}}function I(e,t,n){return{type:r.E,scope:e,scopeId:t,notebookId:n}}function T(e,t,n,i){return{type:r.D,scope:e,scopeId:t,notebookId:n,lock:i}}function x(e,t){return{type:r.x,computeId:e,softwareSpecification:t}}function S(e,t,n){return{type:r.b,code:e,params:t,trace:n}}function N(e,t){return{type:r.z,notebookId:e,kernel:t}}function L(e){return{type:r.A,usage:e}}function j(e,t){return{type:r.o,id:e,asset:t}}function R(e){return{type:r.n,id:e}}function A(e,t){return{type:r.m,id:e,error:t}}function C(e){return{type:r.u,payload:e}}},aYAR:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"z",(function(){return f})),n.d(t,"A",(function(){return d})),n.d(t,"B",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"o",(function(){return p})),n.d(t,"n",(function(){return _})),n.d(t,"w",(function(){return v})),n.d(t,"y",(function(){return m})),n.d(t,"x",(function(){return g})),n.d(t,"v",(function(){return h})),n.d(t,"u",(function(){return b})),n.d(t,"t",(function(){return y})),n.d(t,"d",(function(){return k})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return E})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return S})),n.d(t,"D",(function(){return N})),n.d(t,"C",(function(){return L})),n.d(t,"l",(function(){return j})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return A}));const r="admin",i="editor",a="viewer",o="file/bmcos-s3-v1",c="v2/data_asset/remote",s="v2/connection",f="assetfiles",d="bmcos_object_storage",u="local_git_storage",l="cloud",p="icp4data",_="icp",v="error",m="loading",g="loaded",h="done",b="upload_complete",y="canceled",k="error",O="warning",E="success",I="jupyterlab",T="terminal",x=e=>e({id:""}),S=e=>x(e)+' <a href="https://dataplatform.cloud.ibm.com/docs/content/wsj/analyze-data/change-environment.html?audience=wdp&linkInPage=true" target="_blank">'.concat(e({id:"COMMON_SWITCH_TO_SUPPORTED_ENVIRONMENT"}),"</a>."),N="notebook",L="jupyterlab",j="Waiting to start",R={day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"},A={hour:"numeric",minute:"numeric"}},fcL8:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("obZm"),i=n("Yc4W"),a=n("YyUk"),o=n("9oTK"),c=n.n(o),s=n("fZuP"),f=n("cr+I");const d=e=>Array.isArray(e)?e.join(","):void 0;function u(e){let{scope:t=a.h,scopeId:n,fields:o=null,types:u=null,excludeTypes:l=null,storageType:p}=e;return function(e){return new c.a((a,c)=>{Object(r.b)({url:"/analytics/notebooks/v2/api/environments?".concat(Object(f.stringify)({fields:d(o),types:d(u),exclude_types:d(l),storageType:p,scope:t,scopeid:n})),method:"GET",json:!0,headers:r.a},[200],(function(t,n,r){return t?c(Object(s.a)(t,r)):(e(Object(i.n)(n)),a(n))}))})}}function l(e){let{scope:t=a.h,scopeId:n,environmentId:o,fields:c=null,storageType:s}=e;const u=Object(f.stringify)({fields:d(c),scope:t,scopeid:n,storageType:s}),l="/analytics/notebooks/v2/api/environments/".concat(o,"?").concat(u);return function(e){return Object(r.c)({url:l,method:"GET",json:!0,headers:r.a},[200]).then(t=>e(Object(i.m)(t))).catch(t=>{if(e(Object(i.l)(o,t)),400!==t.statusCode)throw t})}}},fi8Q:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("YyUk"),i=n("zqxM"),a=n.n(i);r.h,r.i;function o(e){let t;switch(e){case r.h:t="project_id";break;case r.i:t="space_id";break;default:t=r.h}return t}function c(e,t,n){let r=!1;const i=a()(t,Object.keys(n).filter(e=>void 0!==n[e]));return i.length>0&&(r=new Error("["+e+"] Missing properties: "+i.join(","))),r}function s(e,t,n){let r=!1;const i=a()(Object.keys(n),t);return i.length>0&&(r=new Error("["+e+"] Unsupported properties: "+i.join(","))),r}},g7th:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return g}));var r=n("obZm"),i=n("YyUk"),a=n("aYAR"),o=n("ukhC"),c=n("Z781"),s=n("9oTK"),f=n.n(s),d=n("fZuP"),u=n("Yc4W"),l=n("cr+I");const p=e=>{let{scope:t=i.h,scopeId:n}=e;return{scopeid:n,scope:t}};function _(e){const{runtimeType:t,runtimeDefinitionId:n,notebookId:i,gitTokenId:o,tool:c=a.D}=e;return function(){return new f.a((a,s)=>{const f={...p(e),action:"init",notebookId:i,runtimeDefinitionId:n,tool:c,gitTokenId:o};Object(r.b)({url:"/analytics/notebooks/v2/api/runtime/".concat(t,"?").concat(Object(l.stringify)(f)),method:"POST",json:!0,data:JSON.stringify({}),headers:r.a},[200],(function(e,t,n){return e?s(Object(d.a)(e,n)):a(t)}))})}}function v(e){const{environmentId:t,gitTokenId:n}=e;return function(i){const s={...p(e),action:"init",runtimeDefinitionId:t,gitTokenId:n,tool:a.C};return Object(r.c)({url:"/analytics/notebooks/v2/api/runtime/".concat(o.d,"?").concat(Object(l.stringify)(s)),method:"POST",json:!0,data:JSON.stringify({}),headers:r.a},[200]).then(e=>{let{jupyterContainerUrl:n}=e;return i(Object(u.u)({id:t,state:c.F.Started,jupyterContainerUrl:n}))},e=>{const n=503===e.statusCode;i(n?Object(u.u)({id:t,state:c.F.Starting,timestamp:new Date}):Object(u.u)({id:t,state:c.F.Failed,cause:e}))})}}function m(e){return function(){return new f.a((t,n)=>{const{environmentId:i,kernelId:a,runtimeType:o}=e,c={...p(e),action:"stop",environmentId:i,kernelId:a};Object(r.b)({url:"/analytics/notebooks/v2/api/runtime/".concat(o,"/stop?").concat(Object(l.stringify)(c)),method:"POST",json:!0,data:JSON.stringify({}),headers:r.a},[200],(function(e,r,i){return e?n(Object(d.a)(e,i)):t(r)}))})}}function g(e){return function(){return new f.a(t=>{const{scope:n,scopeId:a,storageType:o}=e;if(n===i.i)return t([]);const c={project_id:a,storageType:o};Object(r.b)({url:"/analytics/notebooks/v2/api/runtime/list?".concat(Object(l.stringify)(c)),method:"GET",json:!0,headers:r.a},[200],(function(e,n){return t(e?[]:null==n?void 0:n.results)}))})}}},hH6s:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var r=n("SzS2"),i=n("q1tI"),a=n.n(i),o=n("TSYQ"),c=n.n(o),s=n("a1iI"),f={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",axLoadingIndicator:"LoadingIndicator__axLoadingIndicator___bRAMi",parentOverlay:"LoadingIndicator__parentOverlay___qNsBL",loadingOverlay:"LoadingIndicator__loadingOverlay___7LokM",small:"LoadingIndicator__small___3V+0S",endless:"LoadingIndicator__endless___Srj64",loadingMessage:"LoadingIndicator__loadingMessage___q2ZPf",progressDigits:"LoadingIndicator__progressDigits___fxATm",loadingCircle:"LoadingIndicator__loadingCircle___7mn3S",middle:"LoadingIndicator__middle___3cYs0",subTitle:"LoadingIndicator__subTitle___K6z+j",large:"LoadingIndicator__large___68PIG",infront:"LoadingIndicator__infront___-AI-W",none:"LoadingIndicator__none___RqSZi",animation:"LoadingIndicator__animation___87XhK",progress:"LoadingIndicator__progress___4gnlz",error:"LoadingIndicator__error___vF8Su",errorIcon:"LoadingIndicator__errorIcon___YfyJQ",spin:"LoadingIndicator__spin___rNQtM",rotate:"LoadingIndicator__rotate___n2+g4","init-stroke":"LoadingIndicator__init-stroke___Tci48"},d={uiBackground:"#161616",interactive01:"#0f62fe",interactive02:"#6f6f6f",interactive03:"#fff",interactive04:"#4589ff",danger:"#da1e28",ui01:"#262626",ui02:"#393939",ui03:"#393939",ui04:"#6f6f6f",ui05:"#f4f4f4",text01:"#f4f4f4",text02:"#c6c6c6",text03:"#6f6f6f",text04:"#fff",text05:"#8d8d8d",link01:"#78a9ff",inverseLink:"#0f62fe",icon01:"#f4f4f4",icon02:"#c6c6c6",icon03:"#fff",field01:"#262626",field02:"#393939",inverse01:"#161616",inverse02:"#f4f4f4",support01:"#fa4d56",support02:"#42be65",support03:"#f1c21b",support04:"#4589ff",inverseSupport01:"#da1e28",inverseSupport02:"#24a148",inverseSupport03:"#f1c21b",inverseSupport04:"#0f62fe",overlay01:"rgba(0,0,0,.65)",focus:"#fff",inverseFocusUi:"#0f62fe",hoverPrimary:"#0353e9",hoverPrimaryText:"#a6c8ff",hoverSecondary:"#606060",hoverTertiary:"#f4f4f4",hoverUi:"#353535",hoverSelectedUi:"#4c4c4c",hoverDanger:"#b81921",hoverRow:"#353535",inverseHoverUi:"#e5e5e5",activePrimary:"#002d9c",activeSecondary:"#393939",activeTertiary:"#c6c6c6",activeUi:"#525252",activeDanger:"#750e13",selectedUi:"#393939",highlight:"#002d9c",skeleton01:"#353535",skeleton02:"#525252",visitedLink:"#be95ff",disabled01:"#262626",disabled02:"#525252",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#6f6f6f",brand03:"#fff",selected:"#393939",dapNavHeight:"48px",dapNavActionbarHeight:"88px",axLoadingIndicator:"LoadingIndicator-dark__axLoadingIndicator___ZboGw",parentOverlay:"LoadingIndicator-dark__parentOverlay___6kru7",loadingOverlay:"LoadingIndicator-dark__loadingOverlay___sTLGg",small:"LoadingIndicator-dark__small___nA3FQ",endless:"LoadingIndicator-dark__endless___Ghu0f",loadingMessage:"LoadingIndicator-dark__loadingMessage___h1+k7",progressDigits:"LoadingIndicator-dark__progressDigits___nISq2",loadingCircle:"LoadingIndicator-dark__loadingCircle___VYS0i",middle:"LoadingIndicator-dark__middle___nv+by",subTitle:"LoadingIndicator-dark__subTitle___ZAmd7",large:"LoadingIndicator-dark__large___ulQ1H",infront:"LoadingIndicator-dark__infront___Fkj8T",none:"LoadingIndicator-dark__none___d9OAq",animation:"LoadingIndicator-dark__animation___LK4g+",progress:"LoadingIndicator-dark__progress___sZowm",error:"LoadingIndicator-dark__error___ZTARG",errorIcon:"LoadingIndicator-dark__errorIcon___dvBWL",spin:"LoadingIndicator-dark__spin___KFnmX",rotate:"LoadingIndicator-dark__rotate___j+qL-","init-stroke":"LoadingIndicator-dark__init-stroke___16v5A"},u={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",axLoadingIndicator:"LoadingIndicator-light__axLoadingIndicator___7f412",parentOverlay:"LoadingIndicator-light__parentOverlay___itbSK",loadingOverlay:"LoadingIndicator-light__loadingOverlay___v7Fzg",small:"LoadingIndicator-light__small___QvNPm",endless:"LoadingIndicator-light__endless___aQkd9",loadingMessage:"LoadingIndicator-light__loadingMessage___g+J-1",progressDigits:"LoadingIndicator-light__progressDigits___GaFgj",loadingCircle:"LoadingIndicator-light__loadingCircle___yGm4q",middle:"LoadingIndicator-light__middle___8yeVF",subTitle:"LoadingIndicator-light__subTitle___WzJxA",large:"LoadingIndicator-light__large___RESTh",infront:"LoadingIndicator-light__infront___5Wwys",none:"LoadingIndicator-light__none___+my-D",animation:"LoadingIndicator-light__animation___v5iWm",progress:"LoadingIndicator-light__progress___bt106",error:"LoadingIndicator-light__error___Z0FLU",errorIcon:"LoadingIndicator-light__errorIcon___TzClS",spin:"LoadingIndicator-light__spin___4hu6K",rotate:"LoadingIndicator-light__rotate___uYPdD","init-stroke":"LoadingIndicator-light__init-stroke___-jrsh"};const l="endless",p="progress",_="error",v="none",m="middle",g="large";let h=f;class b extends a.a.PureComponent{constructor(e,t){super(e,t),this.state={},h=Object(s.getStyles)(t.themeSettings,f,u,d)}render(){const{formatMessage:e}=this.props.intl,t=c()({[h.axLoadingIndicator]:!0,[h.infront]:this.props.infront,[h.parentOverlay]:this.props.parentOverlay,[h.progress]:this.props.type===p,[h.error]:this.props.type===_,[h.endless]:this.props.type===l,[h.none]:this.props.type===v,[h.small]:"small"===this.props.size,[h.large]:this.props.size===g,[h.middle]:this.props.size===m||"small"!==this.props.size&&this.props.size!==g});let n,i,o;const s={};if(this.props.type===_)n=a.a.createElement("svg",{className:h.errorIcon},a.a.createElement("svg",{id:"icon_error",viewBox:"0 0 16 16"},a.a.createElement("path",{d:"M2.751 4.165a6.5 6.5 0 0 0 9.084 9.084L2.75 4.165zm1.414-1.414l9.084 9.084A6.5 6.5 0 0 0 4.165 2.75zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"})));else if(this.props.type===p){const e="number"==typeof this.props.percent?Math.floor(this.props.percent):0;let t=0;e>100?t=100:e>=0&&(t=e);const n=146,r=n-n/100*t;s.strokeDashoffset=r,i=a.a.createElement("span",{className:h.progressDigits},t+"%")}if(this.props.message){const e=this.props.subTitle;let t;Array.isArray(e)?t=e.map((e,t)=>a.a.createElement("div",{key:t,className:h.subTitle},e)):e&&(t=a.a.createElement("div",{className:h.subTitle},e)),o=a.a.createElement("div",{className:h.loadingMessage},a.a.createElement("div",{className:h.title},this.props.message),t)}let f,d;return this.props.parentOverlay&&(f=a.a.createElement("div",{className:h.loadingOverlay})),d=this.props.type===l?a.a.createElement(r.a,{active:!0,withOverlay:!1,small:"small"===this.props.size}):a.a.createElement("div",{className:h.animation},a.a.createElement("svg",{className:h.loadingCircle,style:s,viewBox:"-25 -25 50 50"},a.a.createElement("title",null,e({id:"COMMON_LOADING"})),a.a.createElement("circle",{cx:"0",cy:"0",r:"23.25",strokeWidth:"3.5"}))),a.a.createElement("div",null,a.a.createElement("div",{className:t},d,n,i,o),f)}}},lVYc:function(e,t,n){"use strict";n.r(t);var r=n("ANjH"),i=n("/MKj"),a=n("fcL8"),o=n("g7th"),c=n("2OET"),s=n("pVnL"),f=n.n(s),d=(n("3bBZ"),n("APvk")),u=n("5HLI"),l=n("A6ji"),p=n("1m20"),_=n("q0FY"),v=n("ptjB"),m=n("plu6"),g=n("q1tI"),h=n.n(g),b=n("iEJf"),y=n("hH6s"),k=n("Z781"),O=n("jXIz"),E=n("mwIZ"),I=n.n(E),T=n("TSYQ"),x=n.n(T),S=n("a1iI"),N={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",light:"TerminalPage__light___3avIk",heading:"TerminalPage__heading___xKT2h",description:"TerminalPage__description___L3OCa",formLabel:"TerminalPage__formLabel___HTm7d",center:"TerminalPage__center___eoGbI",fullHeight:"TerminalPage__fullHeight___yGFvR",container:"TerminalPage__container___liGsk",iframe:"TerminalPage__iframe___RUn13"},L={uiBackground:"#161616",interactive01:"#0f62fe",interactive02:"#6f6f6f",interactive03:"#fff",interactive04:"#4589ff",danger:"#da1e28",ui01:"#262626",ui02:"#393939",ui03:"#393939",ui04:"#6f6f6f",ui05:"#f4f4f4",text01:"#f4f4f4",text02:"#c6c6c6",text03:"#6f6f6f",text04:"#fff",text05:"#8d8d8d",link01:"#78a9ff",inverseLink:"#0f62fe",icon01:"#f4f4f4",icon02:"#c6c6c6",icon03:"#fff",field01:"#262626",field02:"#393939",inverse01:"#161616",inverse02:"#f4f4f4",support01:"#fa4d56",support02:"#42be65",support03:"#f1c21b",support04:"#4589ff",inverseSupport01:"#da1e28",inverseSupport02:"#24a148",inverseSupport03:"#f1c21b",inverseSupport04:"#0f62fe",overlay01:"rgba(0,0,0,.65)",focus:"#fff",inverseFocusUi:"#0f62fe",hoverPrimary:"#0353e9",hoverPrimaryText:"#a6c8ff",hoverSecondary:"#606060",hoverTertiary:"#f4f4f4",hoverUi:"#353535",hoverSelectedUi:"#4c4c4c",hoverDanger:"#b81921",hoverRow:"#353535",inverseHoverUi:"#e5e5e5",activePrimary:"#002d9c",activeSecondary:"#393939",activeTertiary:"#c6c6c6",activeUi:"#525252",activeDanger:"#750e13",selectedUi:"#393939",highlight:"#002d9c",skeleton01:"#353535",skeleton02:"#525252",visitedLink:"#be95ff",disabled01:"#262626",disabled02:"#525252",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#6f6f6f",brand03:"#fff",selected:"#393939",dapNavHeight:"48px",dapNavActionbarHeight:"88px",light:"TerminalPage-dark__light___aMYPz",heading:"TerminalPage-dark__heading___g8EuD",description:"TerminalPage-dark__description___3LRfP",formLabel:"TerminalPage-dark__formLabel___-ec2V",center:"TerminalPage-dark__center___g5an+",fullHeight:"TerminalPage-dark__fullHeight___akcWX",container:"TerminalPage-dark__container___gWIfh",iframe:"TerminalPage-dark__iframe___+zYoc"},j={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",light:"TerminalPage-light__light___OWC8-",heading:"TerminalPage-light__heading___22MPk",description:"TerminalPage-light__description___6tIRS",formLabel:"TerminalPage-light__formLabel___Fj85n",center:"TerminalPage-light__center___y-og5",fullHeight:"TerminalPage-light__fullHeight___HWthl",container:"TerminalPage-light__container___KGD+R",iframe:"TerminalPage-light__iframe___jUOfx"};var R;!function(e){e[e.Initial=0]="Initial",e[e.StartingRuntime=1]="StartingRuntime",e[e.PreparingTerminal=2]="PreparingTerminal",e[e.TerminalReady=3]="TerminalReady",e[e.Loaded=4]="Loaded",e[e.FailedRuntime=5]="FailedRuntime",e[e.FailedTerminal=6]="FailedTerminal"}(R||(R={}));const A=e=>e!==R.Loaded&&e!==R.FailedTerminal&&e!==R.FailedRuntime,C=e=>{let{jupyterContainerUrl:t,projectId:n,terminalId:r}=e;return"".concat(t,"/terminals/").concat(r,"?project=").concat(n,"&api=v2")},w=e=>{switch(e){case k.F.Started:return"TERMINALS_LOADING_TERMINAL";default:return"TERMINALS_STARTING_RUNTIME"}},M=e=>{switch(e){case R.FailedTerminal:return"TERMINALS_LOADING_TERMINAL_FAILED";case R.FailedRuntime:return"TERMINALS_STARTING_RUNTIME_FAILED";default:return""}};var P=n("wSuE");const U=Object(i.connect)(e=>{let{runtimes:t,environments:n}=e;return{runtimes:t,environments:n}},e=>({initiateTerminalRuntime:t=>e(Object(o.c)(t)),getEnvironment:t=>e(Object(a.a)(t))}));t.default=Object(r.compose)(P.hot,c.c,U)(e=>{const{scope:t,scopeId:n,scopeName:r,context:i,runtimes:a,repositoryUrl:o,environmentId:c,themeSettings:s,intl:E,environments:T,initiateTerminalRuntime:P,getEnvironment:U,storageType:D}=e,{updateBreadcrumbForTerminalPage:H,startTerminalSession:B}=Object(g.useContext)(O.b),F=Object(g.useMemo)(()=>Object(S.getStyles)(s,N,j,L),[s]),[V,G]=Object(g.useState)(R.Initial),[q,W]=Object(g.useState)(""),[K,Y]=Object(g.useState)(null),Z=a[c];return Object(g.useEffect)(()=>{H({context:i,intl:E,scopeId:n,scopeName:r,title:E.formatMessage({id:"COMMON_TOOL_TERMINAL"}),scope:t})},[i,E,t,n,r,H]),Object(g.useEffect)(()=>{(null==Z?void 0:Z.state)===k.F.Started&&(G(R.PreparingTerminal),B({jupyterContainerUrl:null==Z?void 0:Z.jupyterContainerUrl}).then(()=>{G(R.TerminalReady)},e=>{G(R.FailedTerminal),W(null==e?void 0:e.message)}))},[Z,B]),Object(g.useEffect)(()=>{var e;(e=V)!==R.FailedRuntime&&e!==R.FailedTerminal||K||Y({kind:"error",subtitle:q||"",title:E.formatMessage({id:M(V)})})},[V,q,E,K]),Object(g.useEffect)(()=>{if((null==Z?void 0:Z.state)===k.F.Failed){var e,t,n;G(R.FailedRuntime);const c=Z.cause;if(Array.isArray(null==c||null===(e=c.body)||void 0===e?void 0:e.errors)&&"JUPYTER_LAB_RUNTIME_ACTIVE"===(null==c||null===(t=c.body)||void 0===t||null===(n=t.errors[0])||void 0===n?void 0:n.code)){var r,i,a;const e=null==c||null===(r=c.body)||void 0===r||null===(i=r.errors[0])||void 0===i||null===(a=i.target)||void 0===a?void 0:a.activeRuntimeNames,t=Array.isArray(e)&&1===e.length?e[0]:"";W(E.formatMessage({id:"COMMON_MULTIPLE_INTERACTIVE_RUNTIMES_IN_PROJECT_SUBTITLE"},{active_runtime_name:t})+" "+E.formatMessage({id:"COMMON_MULTIPLE_INTERACTIVE_RUNTIMES_IN_PROJECT_ACTION"},{tool_name:E.formatMessage({id:"COMMON_TOOL_TERMINAL"})}))}else{var o;W(null===(o=Z.cause)||void 0===o?void 0:o.message)}}},[Z,E]),Object(g.useEffect)(()=>{U({environmentId:c,scope:t,scopeId:n,fields:["entity.environment.display_name","metadata.asset_id"],storageType:D})},[c,U,t,n,D]),Object(g.useEffect)(()=>{const e=()=>P({environmentId:c,scope:t,scopeId:n});let r;return Z?(null==Z?void 0:Z.state)===k.F.Starting&&(r=setTimeout(()=>e(),Z?5e3:0)):e(),()=>r&&clearTimeout(r)},[c,P,Z,t,n]),h.a.createElement(m.a,{className:F.light},K&&h.a.createElement(m.e,f()({},K,{onCloseButtonClick:()=>Y(null)})),h.a.createElement(m.c,{title:E.formatMessage({id:"COMMON_TOOL_TERMINAL"})}),h.a.createElement(m.b,{bleed:!0},h.a.createElement(d.a,{fullWidth:!0,className:x()({[F.fullHeight]:!0})},h.a.createElement(u.a,{className:x()({[F.fullHeight]:!0})},h.a.createElement(l.a,{key:"1",lg:4,md:4},!A(V)&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:F.heading},E.formatMessage({id:"TERMINALS_GENERAL_INFORMATION"})),h.a.createElement(p.a,{className:F.formLabel},E.formatMessage({id:"TERMINALS_RUNTIME_ENVIRONMENT"})),Object(b.d)(T)?h.a.createElement("div",{className:F.text},I()(Object(b.b)(T,c),"entity.environment.display_name","-")):h.a.createElement(_.a,null),h.a.createElement(p.a,{className:F.formLabel},E.formatMessage({id:"TERMINALS_REPOSITORY"})),h.a.createElement(v.a,{copyButtonDescription:E.formatMessage({id:"TERMINALS_COPY_TO_CLIPBOARD"}),feedback:E.formatMessage({id:"TERMINALS_COPIED_TO_CLIPBOARD"}),light:!0,type:"single"},o))),h.a.createElement(l.a,{key:"2",lg:12,md:4},A(V)&&h.a.createElement(y.a,{intl:E,message:E.formatMessage({id:w(null==Z?void 0:Z.state)}),size:"large",type:"endless",infront:!0,parentOverlay:!0}),((z=V)===R.TerminalReady||z===R.Loaded)&&Z.state===k.F.Started&&h.a.createElement("div",{className:F.container},h.a.createElement("iframe",{className:F.iframe,src:C({jupyterContainerUrl:null==Z?void 0:Z.jupyterContainerUrl,projectId:n,terminalId:"1"}),scrolling:"no",onLoad:()=>G(R.Loaded),onError:()=>G(R.FailedTerminal)})))))));var z})},mFXU:function(e,t,n){"use strict";var r=n("+u8U");t.a=r.a},rHEg:function(e,t,n){"use strict";n.r(t);n("3bBZ");var r=n("ANjH"),i=n("/MKj"),a=n("YyUk"),o=n("2OET"),c=n("pVnL"),s=n.n(c),f=n("APvk"),d=n("5HLI"),u=n("A6ji"),l=n("plu6"),p=n("aYAR"),_=n("tQch"),v=n("q1tI"),m=n.n(v),g=n("2uFg"),h=n("Ug+Z"),b=n("94Vk"),y=n("o9LO"),k=n("17x9"),O=n.n(k),E=n("TSYQ"),I=n.n(E),T=n("a1iI"),x={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",selectWithTopMargin:"RuntimeLauncherContent__selectWithTopMargin___SoFHF",select:"RuntimeLauncherContent__select___0Hiu3"},S={uiBackground:"#161616",interactive01:"#0f62fe",interactive02:"#6f6f6f",interactive03:"#fff",interactive04:"#4589ff",danger:"#da1e28",ui01:"#262626",ui02:"#393939",ui03:"#393939",ui04:"#6f6f6f",ui05:"#f4f4f4",text01:"#f4f4f4",text02:"#c6c6c6",text03:"#6f6f6f",text04:"#fff",text05:"#8d8d8d",link01:"#78a9ff",inverseLink:"#0f62fe",icon01:"#f4f4f4",icon02:"#c6c6c6",icon03:"#fff",field01:"#262626",field02:"#393939",inverse01:"#161616",inverse02:"#f4f4f4",support01:"#fa4d56",support02:"#42be65",support03:"#f1c21b",support04:"#4589ff",inverseSupport01:"#da1e28",inverseSupport02:"#24a148",inverseSupport03:"#f1c21b",inverseSupport04:"#0f62fe",overlay01:"rgba(0,0,0,.65)",focus:"#fff",inverseFocusUi:"#0f62fe",hoverPrimary:"#0353e9",hoverPrimaryText:"#a6c8ff",hoverSecondary:"#606060",hoverTertiary:"#f4f4f4",hoverUi:"#353535",hoverSelectedUi:"#4c4c4c",hoverDanger:"#b81921",hoverRow:"#353535",inverseHoverUi:"#e5e5e5",activePrimary:"#002d9c",activeSecondary:"#393939",activeTertiary:"#c6c6c6",activeUi:"#525252",activeDanger:"#750e13",selectedUi:"#393939",highlight:"#002d9c",skeleton01:"#353535",skeleton02:"#525252",visitedLink:"#be95ff",disabled01:"#262626",disabled02:"#525252",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#6f6f6f",brand03:"#fff",selected:"#393939",dapNavHeight:"48px",dapNavActionbarHeight:"88px",selectWithTopMargin:"RuntimeLauncherContent-dark__selectWithTopMargin___ElJNW",select:"RuntimeLauncherContent-dark__select___A-pGc"},N={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",selectWithTopMargin:"RuntimeLauncherContent-light__selectWithTopMargin___j4QGY",select:"RuntimeLauncherContent-light__select___Dmh1Z"};let L=x;class j extends m.a.Component{constructor(e,t){super(e,t),L=Object(T.getStyles)(t.themeSettings,x,N,S)}_getItemName(e,t){return(e.getItemName?e.getItemName:e=>e.name)(t)||"unknown"}_getItemId(e,t){return(e.getItemId?e.getItemId:e=>e.id)(t)||"unknown"}_getSelectors(){return this.props.selectorDefinitions&&Array.isArray(this.props.selectorDefinitions)?Array.from({length:this.props.selectorDefinitions.length},(e,t)=>t).map(e=>this._getSelector(this.props.selectorDefinitions[e],e)):[]}_getSelector(e,t){const n=e.items.map(t=>{const n=this._getItemId(e,t),r=this._getItemName(e,t);return m.a.createElement(b.a,{value:n,text:r,key:n})}),r={id:String(t),key:String(t),onChange:e=>this.props.onSelectionChanged(e,t),disabled:!1,hideLabel:!1,labelText:e.labelText,invalid:e.invalid,invalidText:e.invalidText};if("function"==typeof e.selectorDefaultItem){const t=e.selectorDefaultItem();r.defaultValue=this._getItemId(e,t)}const i=I()({[L.select]:!0,[L.selectWithTopMargin]:0!==t});return m.a.createElement(y.a,s()({},r,{className:i}),n)}render(){const e=this._getSelectors();return m.a.createElement(m.a.Fragment,null,e)}}j.contextTypes={themeSettings:O.a.object},j.propTypes={intl:O.a.object.isRequired,selectorDefinitions:O.a.arrayOf(O.a.shape({selectorDefaultItem:O.a.func,items:O.a.array.isRequired,getItemId:O.a.func,getItemName:O.a.func,labelText:O.a.string,invalid:O.a.bool,invalidText:O.a.string})).isRequired,onSelectionChanged:O.a.func.isRequired};var R=Object(o.c)(j),A=n("mwIZ"),C=n.n(A),w=n("0XPj"),M=n.n(w),P=n("/w9J"),U=n.n(P),D=n("fi8Q"),H=n("cr+I"),B={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",bleed:"LaunchJupyterLabPage__bleed___q6-bh"},F={uiBackground:"#161616",interactive01:"#0f62fe",interactive02:"#6f6f6f",interactive03:"#fff",interactive04:"#4589ff",danger:"#da1e28",ui01:"#262626",ui02:"#393939",ui03:"#393939",ui04:"#6f6f6f",ui05:"#f4f4f4",text01:"#f4f4f4",text02:"#c6c6c6",text03:"#6f6f6f",text04:"#fff",text05:"#8d8d8d",link01:"#78a9ff",inverseLink:"#0f62fe",icon01:"#f4f4f4",icon02:"#c6c6c6",icon03:"#fff",field01:"#262626",field02:"#393939",inverse01:"#161616",inverse02:"#f4f4f4",support01:"#fa4d56",support02:"#42be65",support03:"#f1c21b",support04:"#4589ff",inverseSupport01:"#da1e28",inverseSupport02:"#24a148",inverseSupport03:"#f1c21b",inverseSupport04:"#0f62fe",overlay01:"rgba(0,0,0,.65)",focus:"#fff",inverseFocusUi:"#0f62fe",hoverPrimary:"#0353e9",hoverPrimaryText:"#a6c8ff",hoverSecondary:"#606060",hoverTertiary:"#f4f4f4",hoverUi:"#353535",hoverSelectedUi:"#4c4c4c",hoverDanger:"#b81921",hoverRow:"#353535",inverseHoverUi:"#e5e5e5",activePrimary:"#002d9c",activeSecondary:"#393939",activeTertiary:"#c6c6c6",activeUi:"#525252",activeDanger:"#750e13",selectedUi:"#393939",highlight:"#002d9c",skeleton01:"#353535",skeleton02:"#525252",visitedLink:"#be95ff",disabled01:"#262626",disabled02:"#525252",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#6f6f6f",brand03:"#fff",selected:"#393939",dapNavHeight:"48px",dapNavActionbarHeight:"88px",bleed:"LaunchJupyterLabPage-dark__bleed___blrqa"},V={uiBackground:"#f4f4f4",interactive01:"#0f62fe",interactive02:"#393939",interactive03:"#0f62fe",interactive04:"#0f62fe",danger:"#da1e28",ui01:"#fff",ui02:"#f4f4f4",ui03:"#e0e0e0",ui04:"#8d8d8d",ui05:"#161616",text01:"#161616",text02:"#525252",text03:"#a8a8a8",text04:"#fff",text05:"#6f6f6f",link01:"#0f62fe",inverseLink:"#78a9ff",icon01:"#161616",icon02:"#525252",icon03:"#fff",field01:"#fff",field02:"#f4f4f4",inverse01:"#fff",inverse02:"#393939",support01:"#da1e28",support02:"#198038",support03:"#f1c21b",support04:"#0043ce",inverseSupport01:"#fa4d56",inverseSupport02:"#42be65",inverseSupport03:"#f1c21b",inverseSupport04:"#4589ff",overlay01:"rgba(22,22,22,.5)",focus:"#0f62fe",inverseFocusUi:"#fff",hoverPrimary:"#0353e9",hoverPrimaryText:"#0043ce",hoverSecondary:"#4c4c4c",hoverTertiary:"#0353e9",hoverUi:"#e5e5e5",hoverSelectedUi:"#cacaca",hoverDanger:"#b81921",hoverRow:"#e5e5e5",inverseHoverUi:"#4c4c4c",activePrimary:"#002d9c",activeSecondary:"#6f6f6f",activeTertiary:"#002d9c",activeUi:"#c6c6c6",activeDanger:"#750e13",selectedUi:"#e0e0e0",highlight:"#d0e2ff",skeleton01:"#e5e5e5",skeleton02:"#c6c6c6",visitedLink:"#8a3ffc",disabled01:"#fff",disabled02:"#c6c6c6",disabled03:"#8d8d8d",brand01:"#0f62fe",brand02:"#393939",brand03:"#0f62fe",selected:"#e0e0e0",dapNavHeight:"48px",dapNavActionbarHeight:"88px",bleed:"LaunchJupyterLabPage-light__bleed___uOvDx"};const G=e=>{let{targetIDE:t,deploymentTarget:n}=e;switch(t){case p.p:return Object(g.D)(n);case p.q:return Object(g.E)();default:throw new Error("Unknown target IDE: "+t)}},q=(e,t)=>t===p.q?e.formatMessage({id:"COMMON_TOOL_TERMINAL"}):e.formatMessage({id:"COMMON_TOOL_JUPYTERLAB"});var W=n("Yc4W"),K=n("fcL8"),Y=n("g7th"),Z=n("wSuE"),z=n("LzpX");const J=Object(i.connect)(e=>({accounts:e.accounts,environments:e.environments,project:C()(e,"project.resource")}),e=>({loadAccountsFromServer:function(){return e(Object(z.b)(...arguments))},getEnvironmentsGlobally:(t,n,r)=>e(Object(K.b)({scope:a.h,scopeId:t,types:r,storageType:n})),addErrorInfo:(t,n,r)=>e(Object(W.b)(t,n,r)),getRuntimesForProject:(t,n)=>e(Object(Y.a)({scope:a.h,scopeId:t,storageType:n}))}));t.default=Object(r.compose)(Z.hot,o.c,J)(e=>{let{context:t,deploymentTarget:n,user:r,storageType:i,isGitTokenSelectionRequired:o,gitTokens:c,remoteVendorType:b,intl:y,scope:k,scopeId:O,projectId:E,tearsheetMode:I,themeSettings:x,targetIDE:S,loadAccountsFromServer:N,getEnvironmentsGlobally:L,getRuntimesForProject:j,addErrorInfo:A,defaultEnvironmentId:w}=e;const{sendTearsheetCancelEvent:P,sendTearsheetCommitEvent:W}=Object(v.useContext)(h.b),K=Object(v.useMemo)(()=>Object(T.getStyles)(x,B,V,F),[x]),[Y,Z]=Object(v.useState)(null),[z,J]=Object(v.useState)(!1),[X,Q]=Object(v.useState)(),[$,ee]=Object(v.useState)(),te=(e,t)=>(e.getItemId?e.getItemId:e=>e.id)(t)||"unknown";return Object(v.useEffect)(()=>{J(!0),Promise.all([L(E,i,G({targetIDE:S,deploymentTarget:n})),j(E,i).catch(()=>[])]).then(e=>{let[t,i]=e;return(e=>{let{environments:t=[],runtimes:n=[],intl:r,gitTokens:i,isGitTokenSelectionRequired:a,remoteVendorType:o,deploymentTarget:c,defaultEnvironmentId:s}=e;const{formatMessage:f}=r,d=Array.isArray(n)?n.map(e=>{var t;return null==e||null===(t=e.entity)||void 0===t?void 0:t.environment}):[],u=Object(g.g)(t,c),l=u.map(e=>{var t;return null==e||null===(t=e.metadata)||void 0===t?void 0:t.asset_id}),p=M()(d,l),v=i||[],m=v.length>=1,h=u.length>=1;return!a||m||o?a&&!m?Promise.reject({code:_.j}):new Promise(e=>{const t=[{labelText:r.formatMessage({id:"COMMON_SELECT_ENVIRONMENT"}),items:u,getItemId:e=>Object(g.o)(e),getItemName:e=>Object(g.l)(e),invalid:!h,invalidText:f({id:"EDIT_JUPYTERLAB_NO_ENVIRONMENT_FOUND"}),selectorDefaultItem:()=>{const e=p.length>0?p[0]:s;return Object(g.i)(u,e)||u[0]}}];return a&&t.push({labelText:f({id:"EDIT_JUPYTERLAB_SELECT_GIT_TOKEN"}),items:v,getItemId:e=>C()(e,"name"),getItemName:e=>U()(C()(e,"name")),invalid:!m,invalidText:f({id:"EDIT_JUPYTERLAB_NO_GIT_TOKEN_FOUND"}),selectorDefaultItem:()=>v[0]}),e(t)}):Promise.reject({code:_.k})})({environments:t,runtimes:Array.isArray(i)?i.filter(e=>{var t;return(null==e||null===(t=e.entity)||void 0===t?void 0:t.user_iui)===(null==r?void 0:r.iam_id)}):[],intl:y,gitTokens:c,isPrivateCloud:n===p.n||n===p.o,remoteVendorType:b,deploymentTarget:n,defaultEnvironmentId:w,isGitTokenSelectionRequired:o}).then(e=>{Q(e),ee((e=>e?e.map(e=>{let t;return t="function"==typeof e.selectorDefaultItem?e.selectorDefaultItem():e.items[0],t?te(e,t):null}):null)(e)),J(!1)})}).catch(e=>{switch(J(!1),e.code){case _.k:Z({title:y.formatMessage({id:"ERROR_PAGE_NO_GIT_REPO_TITLE"}),subtitle:y.formatMessage({id:"ERROR_PAGE_NO_GIT_REPO_LINE1"}),kind:"error"});break;case _.j:Z({title:y.formatMessage({id:"ERROR_PAGE_GIT_TOKEN_MISSING_TITLE"}),subtitle:y.formatMessage({id:"ERROR_PAGE_GIT_TOKEN_MISSING_LINE1"}),kind:"error"});break;default:Z({title:y.formatMessage({id:"COMMON_EDIT_FAILED_LOAD_NOTEBOOK_ENVIRONMENTS"}),subtitle:e.message,kind:"error"})}return null})},[L,j,E,N,y,c,t,n,b,r,A,i,w,o,S]),m.a.createElement(l.a,{loading:z},Y&&m.a.createElement(l.e,s()({},Y,{onCloseButtonClick:()=>Z(null)})),m.a.createElement(l.c,{title:q(y,S),contextLabel:y.formatMessage({id:"COMMON_LAUNCH"})}),m.a.createElement(l.b,null,m.a.createElement(f.a,{fullWidth:!0,className:K.bleed},m.a.createElement(d.a,null,m.a.createElement(u.a,{lg:8,md:8},m.a.createElement(R,{selectorDefinitions:X||[],onSelectionChanged:(e,t)=>{const n=C()(e,"target.value"),r=$?$.slice(0):[];r[t]=n,ee(r)}}))))),m.a.createElement(l.d,{secondaryButtonText:y.formatMessage({id:"COMMON_CANCEL"}),onSecondaryButtonClick:()=>{I?P():window.history&&window.history.length>2?window.history.back():window.location.assign((e=>{let{scope:t,scopeId:n,context:r}=e;return t===a.i?"/ml-runtime/spaces/".concat(n,"?context=").concat(r):"/projects/".concat(n,"?context=").concat(r)})({scope:k,scopeId:O,context:t}))},primaryButtonText:y.formatMessage({id:"COMMON_LAUNCH"}),onPrimaryButtonClick:()=>{Y&&Z(null);const e=Array.from({length:X.length},(e,t)=>t).map(e=>{return t=X[e],n=$[e],t.items.find(e=>te(t,e)===n);var t,n}),n=(e=>{let{targetIDE:t,selection:n,scope:r,scopeId:i,context:a}=e;const o=C()(n[0],"metadata.asset_id"),c=C()(n[1],"id"),s={context:a,[Object(D.c)(r)]:i,environmentId:o,gitTokenId:c};switch(t){case p.p:return"/analytics/notebooks/v2/jupyterlab?".concat(Object(H.stringify)(s));case p.q:return"/analytics/notebooks/terminals?".concat(Object(H.stringify)(s));default:throw new Error("Unknown target IDE: "+t)}})({scope:k,scopeId:O,context:t,selection:e,targetIDE:S});I?W({url:n,redirectUrl:n}):window.location.assign(n)},primaryButtonDisabled:"error"===(null==Y?void 0:Y.kind)||z}))})},ukhC:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return _}));const r="unknown",i="missing",a="gpu",o="default-spark",c="default-environment",s="gateway",f="jupyterlab",d=36e6,u=72e5,l=36e5,p=9e4,_=18e4}}]);